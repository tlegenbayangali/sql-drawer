# Описание приложения для создания визуальных схем базы данных

## Главный экран

На главном экране расположены все созданные диаграммы с возможностью создать новую диаграмму.

## Экран редактирования диаграммы

### Создание таблиц

На странице редактирования диаграммы расположена верхняя плашка с возможностью сохранения диаграммы. Боковой сайдбар со списком таблиц. Таблицы можно создавать, дублировать, удалять. По нажатию на кнопку создания новой таблицы активируется режим создания таблицы на канвасе. При клике на канвас создается карточка новой таблицы. По умолчанию название таблицы table_N с единственным полем id (bigInt, primary, not nullable, autoincrement, unsigned, без default value и без комментария).

### Редактирование таблицы

В списке таблиц в сайдбаре появляется новая таблица. При клике по названию таблицы таблица раскрывается и активируется режим редактирования таблицы. каждая строка разделена на 5 колонок:

- название таблицы
- тип данных
- nullable
- index type (PK, UK, Index, None)
- атрибуты колонки (автоинкремент, unsigned, default value, comment, кнопка удаления колонки)
  под редактируемыми колонками две кнопки (add col, add index). после редактирования каждой колонке карточка таблицы в канвасе обновляется автоматически.

### Карточка таблицы на канвасе

При клике на карточку таблицы в сайдбаре автоматически раскрывается соответствующая таблица для редактирования. По двум сторонам каждой колонки таблице в карточке таблицы на канвасе появляются две опорные точке справа и слева от названия колонки. если потянуть за одну из опорной точки то появляется линия, которую можно подключить к опорным точкам любой другой колонке из других таблиц для визуальной связи. после соединения колонок на канвасе автоматически появляется возможность выбора типа связи (1:1, N:1, 1:N). при клике по уже существующей соединительной линии можно изменить тип связи или удалить соед. линию.

### Канвас

Канвас можно панорамировать при помощи мыши, зумировать при помощи колесика мыши.

## Технический стек

- NextJS
- ReactFlow
- ShadCN

## База данных

- SQLite

## MCP

Используй shadcn и context7 mcp при необходимости.
